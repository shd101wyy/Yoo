<html>
    <head>
        <title> Yoo </title>
        <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">

        <link rel="stylesheet" type="text/css" href="css/yiyi.css">
        <link rel="stylesheet" type="text/css" href="css/signup_login.css">

        <script src="js/jquery.min.js"></script>
        <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
    </head>

    <body>
        <div class="bar-header color-green">
            <h2 class="title">
                Yoo
            </h2>
        </div>
        <div class="content">
            <div id="signup_login_form">
                <div class="list">
                    <div class="list-item">
                        <input type="text" id="username" placeholder="Username">
                    </div>
                    <div class="list-item">
                        <input type="password" id="password" placeholder="Password">
                    </div>
                    <div class="list-item">
                        <button class="button color-blue" id="login_btn">
                            Log in
                        </button>
                    </div>
                    <div class="list-item">
                        <button class="button" id="signup_btn">
                            Sign up
                        </button>
                    </div>
                </div>
            </div>
        </div>


    </body>
    <script>
        $(document).ready(function(){
            var socket = io();

            // user sign up
            $("#signup_btn").click(function(){
                var username = $("#username").val();
                var password = $("#password").val();
                socket.emit("user_signup", [username, password]);
            });

            // user log in
            $("#login_btn").click(function(){
                var username = $("#username").val();
                var password = $("#password").val();
                socket.emit("user_login", [username, password]);
            });

            // error
            socket.on("request_error", function(data){
                // TODO: write notification library.
                alert(data);
            });

            // login/signup success
            socket.on("signup_login_success", function(data){
                window.location.href = "./yoo.html?name="+data[0]+"&id="+data[1];
            });

        });
    </script>
</html>
